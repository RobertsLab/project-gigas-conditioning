# Chunk 7
hist(data$length.mm)
hist(data$width.mm)
hist(data$depth.mm)
plot1<-data%>%
ggplot(aes(x=field_cattle_tag, y=length.mm, fill = treatment)) +
geom_boxplot(width=.5, outlier.shape= NA, position = position_dodge(width = 0.4)) +
geom_point(pch = 21, position=position_jitterdodge(dodge.width=0.4)) +
xlab("Bag") +
theme_classic(); plot1
plot2<-data%>%
ggplot(aes(x=field_cattle_tag, y=width.mm, fill = treatment)) +
geom_boxplot(width=.5, outlier.shape= NA, position = position_dodge(width = 0.4)) +
geom_point(pch = 21, position=position_jitterdodge(dodge.width=0.4)) +
xlab("Bag") +
theme_classic(); plot2
data$treatment
metadata
View(data)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
library(tidyverse)
library(stringr)
library(readxl)
library(purrr)
library(lubridate)
library(ggplot2)
library(seacarb)
library(broom)
library(cowplot)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Ch: 1 - Temperature   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Ch: 1 - Temperature   (°C)`)
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Ch: 1 - Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Ch: 1 - Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%Y %H:%M:%S", tz="Pacific/Seattle")
?as.POSIXct
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%Y %H:%M:%S", tz="PDT")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%Y %H:%M:%S", tz="America/Seattle")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%Y %H:%M:%S", tz="America/Seattle")
View(tidbits)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%y %H:%M", tz="America/Seattle")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%y %H:%M", tz="America/Seattle")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%y %H:%M", tz="PDT")
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%y %H:%M")
levels(as.factor(tidbits$logger))
tidbit.files
tidbits <- tidbits %>%
mutate(group = case_when(
logger == "22023395" ~ "trays",
logger == "22023398" ~ "outdoor",
logger == "22023406" ~ "broodstock",
logger == "22023410" ~ "LCO",
TRUE ~ "other"  # Default for other values
))
levels(as.factor(tidbits$group))
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point()+
ylab("Temperature (°C)")+
xlab("Date Time")+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="outdoor")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="outdoor")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
#ylim(10,22)+
theme_classic(); temp_trays
temp_outdoor<-tidbits%>%
filter(group=="outdoor")
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)
# Chunk 2
library(tidyverse)
library(stringr)
library(readxl)
library(purrr)
library(lubridate)
library(ggplot2)
library(seacarb)
library(broom)
library(cowplot)
# Chunk 3
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
tidbits$DateTime<-as.POSIXct(tidbits$DateTime, format="%m/%d/%y %H:%M")
# Chunk 4
levels(as.factor(tidbits$logger))
# Chunk 5
tidbits <- tidbits %>%
mutate(group = case_when(
logger == "22023395" ~ "trays",
logger == "22023398" ~ "outdoor",
logger == "22023406" ~ "broodstock",
logger == "22023410" ~ "LCO",
TRUE ~ "other"  # Default for other values
))
levels(as.factor(tidbits$group))
# Chunk 6
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
filter(group=="trays")
temp_outdoor<-tidbits%>%
filter(group=="outdoor")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
#ylim(10,22)+
theme_classic(); temp_outdoor
View(tidbits)
tidbit.files <- list.files(path="data/environmental/loggers/point_whitney/for-analysis", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
tidbits <- setNames(tidbit.files, tidbit.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
View(tidbits)
#format date for trays logger, formatted differently
trays<-tidbits%>%
filter(logger=="22023395")
other<-tidbits%>%
filter(!logger=="22023395")
trays$DateTime<-as.POSIXct(trays$DateTime, format="%m/%d/%y %H:%M")
other$DateTime<-as.POSIXct(other$DateTime, format="%m/%d/%Y %H:%M:%S")
View(other)
View(trays)
tidbits<-rbind(trays,other)
View(tidbits)
levels(as.factor(tidbits$logger))
tidbits <- tidbits %>%
mutate(group = case_when(
logger == "22023395" ~ "trays",
logger == "22023398" ~ "outdoor",
logger == "22023406" ~ "broodstock",
logger == "22023410" ~ "LCO",
TRUE ~ "other"  # Default for other values
))
levels(as.factor(tidbits$group))
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,22)+
theme_classic(); temp_trays
temp_outdoor<-tidbits%>%
filter(group=="outdoor")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
#ylim(10,22)+
theme_classic(); temp_outdoor
temp_outdoor<-tidbits%>%
filter(group=="outdoor")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,30)+
theme_classic(); temp_outdoor
temp_trays<-tidbits%>%
filter(group=="trays")%>%
ggplot(aes(x=DateTime, y=temp.C))+
geom_point(colour="darkgray")+
geom_smooth(colour="black")+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,30)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour="group"))+
geom_point()+
geom_smooth())+
temp_trays<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour="group"))+
geom_point()+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,30)+
theme_classic(); temp_trays
temp_trays<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group))+
geom_point()+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,30)+
theme_classic(); temp_trays
temp_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group))+
geom_point()+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(10,32)+
theme_classic(); temp_plot
temp_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group))+
geom_point()+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); temp_plot
temp_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group, fill=group))+
geom_point()+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); temp_plot
temp_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group, fill=group))+
geom_point(alpha=0.7)+
geom_smooth()+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); temp_plot
temp_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=group, fill=group))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); temp_plot
ggsave(temp_plot, filename="figures/environmental/point-whitney-loggers.png", width=6, height=4)
westcott.files <- list.files(path="data/environmental/loggers/westcottloggers_20240913/", pattern="*.xlsx", full.names=TRUE)
#will need to change to HST time
westcott <- setNames(westcott.files, westcott.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temperature (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
#will need to change to HST time
westcott <- setNames(westcott.files, westcott.files) %>%
map_dfr(read_xlsx, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temperature (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
View(westcott)
westcott$DateTime<-as.POSIXct(westcott$DateTime, format="%m/%d/%Y %H:%M:%S")
levels(as.factor(westcott$logger))
westcott <- westcott %>%
mutate(group = c("Westcott"))
levels(as.factor(westcott$group))
westcott_plot<-tidbits%>%
ggplot(aes(x=DateTime, y=temp.C, colour=logger, fill=logger))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); westcott_plot
westcott_plot<-westcott%>%
ggplot(aes(x=DateTime, y=temp.C, colour=logger, fill=logger))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(8,32)+
theme_classic(); westcott_plot
westcott_plot<-westcott%>%
ggplot(aes(x=DateTime, y=temp.C, colour=logger, fill=logger))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(0,40)+
theme_classic(); westcott_plot
westcott_plot<-westcott%>%
ggplot(aes(x=DateTime, y=temp.C, colour=logger, fill=logger))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(0,50)+
theme_classic(); westcott_plot
ggsave(westcott_plot, filename="figures/environmental/westcott-loggers.png", width=6, height=4)
ggsave(westcott_plot, filename="figures/environmental/westcott-loggers.png", width=6, height=4)
ggsave(westcott_plot, filename="figures/environmental/westcott-loggers.png", width=8, height=4)
ggsave(westcott_plot, filename="figures/environmental/westcott-loggers.png", width=8, height=6)
ggsave(westcott_plot, filename="figures/environmental/westcott-loggers.png", width=10, height=6)
goose.files <- list.files(path="data/environmental/loggers/goose_point/", pattern="*.csv", full.names=TRUE)
#will need to change to HST time
goose <- setNames(goose.files, goose.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temperature (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
#will need to change to HST time
goose <- setNames(goose.files, goose.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp  (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
#will need to change to HST time
goose <- setNames(goose.files, goose.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
#will need to change to HST time
goose <- setNames(goose.files, goose.files) %>%
map_dfr(read_csv, .id = "logger") %>%
rename(DateTime=`Date-Time (PDT)`, temp.C=`Temp   (°C)`)%>%
select(!`#`)%>%
select(logger, DateTime, temp.C)%>%
mutate(logger=sub(".*/", "", logger))%>% #remove the path name
mutate(logger=sub("_.*", "", logger))%>% #keep only the serial number
filter(!temp.C=="NA")
View(goose)
goose$DateTime<-as.POSIXct(goose$DateTime, format="%m/%d/%Y %H:%M:%S")
levels(as.factor(goose$logger))
goose <- goose %>%
mutate(group = c("Goose Point"))
levels(as.factor(goose$group))
goose_plot<-goose%>%
ggplot(aes(x=DateTime, y=temp.C, colour=logger, fill=logger))+
geom_point(alpha=0.7)+
ylab("Temperature (°C)")+
xlab("Date Time")+
ylim(0,50)+
theme_classic(); goose_plot
ggsave(goose_plot, filename="figures/environmental/goose-loggers.png", width=10, height=6)
