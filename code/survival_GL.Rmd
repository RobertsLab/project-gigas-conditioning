---
title: "Survival_analysis"
output: html_document
date: "2024-06-26"
---

### Load libraries
```{r}
library(readxl)
library(tidyverse)
library(ggplot2)

```

### Load Data
```{r}
# B survival
B_survival <- read_excel("/Users/graceleuchtenberger/Library/Mobile Documents/com~apple~CloudDocs/Documents/project-gigas-conditioning-GL/data/survival/Westcott/B_survival_07082024.xlsx")


# D survival
D_survival <- read_excel("/Users/graceleuchtenberger/Library/Mobile Documents/com~apple~CloudDocs/Documents/project-gigas-conditioning-GL/data/survival/Westcott/D_survival_07082024.xlsx")

```

### Combine data, reup it
```{r}
means_B_live <- B_survival %>%
  group_by(conditioning, date) %>%
  summarise(mean_survival = mean(alive_num), .groups = 'drop')

means_D_live <- D_survival %>%
  group_by(conditioning, date) %>%
  summarise(mean_survival = mean(alive_num), .groups = 'drop')

means_live <- rbind(means_B_live, means_D_live)

means_live$effort <- c("B","B","B","B","B","B","D","D","D","D","D","D")

```

### Stats


```{r}
ggplot(means_live, aes(x = date, y = mean_survival, group = effort, color = conditioning)) +
   geom_point(size=3) +
  labs(x = "Date",
       y = "Mean live oysters per bag") +
  theme_classic()
```
```{r}

ggplot(D_survival, aes(x = date, y = alive_num, group = effort, color = conditioning)) +
   geom_jitter(width = 10, height = 0, size=3) +
  labs(x = "Date",
       y = "Mean live oysters per bag") +
  theme_classic()+
  ylim(0,120)

```

```{r}

ggplot(B_survival, aes(x = date, y = alive_num, group = effort, color = conditioning)) +
   geom_jitter(width = 10, height = 0,size=3) +
  labs(x = "Date",
       y = "Mean live oysters per bag") +
  theme_classic()+
  ylim(0,55)

```

```{r}
ggplot(B_survival, aes(x=date,y=dead, color=conditioning))+
  geom_jitter(width = 0.2, height = 0.2, size = 3) +
  theme_classic()+
  ylab("Dead oysters found")+
  xlab("Date")+
  ylim(-1,2)


```
```{r}
ggplot(D_survival, aes(x=date, y=dead, color=conditioning))+
  geom_jitter(width = 0.2, height = 0.2, size = 3) +
  theme_classic()+
  ylab("Dead oysters found")+
  xlab("Date")+
  ylim(-1,2)

```

